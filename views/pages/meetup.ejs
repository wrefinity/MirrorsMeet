<!DOCTYPE html>
<html lang="en">

<head>
    <%- include('../partials/head'); %>
</head>

<body>
        <%- include('../partials/headers') %>

        <%- include('../partials/footer'); %>

        <script>
            var script = document.createElement("script");
            script.type = "text/javascript";          
            script.addEventListener("load", function (event) {
                //Get URL query parameters
            const url = new URLSearchParams(window.location.search);
    
              const config = {
                name: "",
                meetingId: "<%= meetId %>", // Get meeting id from params.
                apiKey: "aefc2ced-36c2-4c5f-acdc-0156e4aefaa1",
                containerId: null,
                theme: "LIGHT", // DARK || LIGHT || DEFAULT
                micEnabled: true,
                webcamEnabled: true,
                participantCanToggleSelfWebcam: true,
                participantCanToggleSelfMic: true,
                chatEnabled: true,
                screenShareEnabled: true,
                raiseHandEnabled: true,
                whiteboardEnabled: true,
                joinScreen: {
                    visible: true,
                    title: "Join a Meeting",
                    meetingUrl: "newmeeting.url",
                },
    
                branding: {
                    enabled: true,
                    logoURL:
                    ".\MM_Icon.png",
                    name: "MirrorsMeet",
                    poweredBy: false,
                },
    
                layout: {
                    type: "SPOTLIGHT", // "SPOTLIGHT" | "SIDEBAR" | "GRID"
                    priority: "PIN", // "SPEAKER" | "PIN",
                    gridSize: 8,
                },
    
                pin:{
                    allowed: true,
                    layout: "SPOTLIGHT"
                }, 
    
                videoConfig: {
                    resolution: "h720p_w1280p", //h360p_w640p, h540p_w960p, h1080p_w1920p
                    optimizationMode: "motion", // text , detail
                    multiStream: true,
                },
    
                leftScreen: {
                    actionButton: {
                    label: "Video SDK",
                    href: "",
                    },
                    rejoinButtonEnabled: true,
                },
            
                permissions: {
                    askToJoin: false,
                    toggleParticipantWebcam: true,
                    toggleParticipantMic: true,
                    toggleParticipantScreenshare: true,
                    changeLayout: true,
                    removeParticipant: true,
                    drawOnWhiteboard: true,
                    toggleWhiteboard: true,
                    endMeeting: true,
                }
                /*
          
               Other Feature Properties
                
                */
              };
          
              const meeting = new VideoSDKMeeting();
              meeting.init(config);
            });
          
            script.src =
              "https://sdk.videosdk.live/rtc-js-prebuilt/0.3.31/rtc-js-prebuilt.js";
            document.getElementsByTagName("head")[0].appendChild(script);
          </script>
</body>

</html>